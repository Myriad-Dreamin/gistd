<!-- This file is generated by `typlite README.typ` -->
# Gistd

Instantly share [typst](https://typst.app) documents on git and other network storage.

## Loading a document on GitHub

Assuming that you have a GitHub link, for example:

```
https://github.com/typst/templates/blob/main/charged-ieee/template/main.typ
```

Simply replace the `github.com` with `gistd.myriad-dreamin.com`:

```
https://gistd.myriad-dreamin.com/typst/templates/blob/main/charged-ieee/template/main.typ
```

Example Documents:

- [https://gistd.myriad-dreamin.com/johanvx/typst-undergradmath/blob/main/undergradmath.typ](https://gistd.myriad-dreamin.com/johanvx/typst-undergradmath/blob/main/undergradmath.typ)
- [https://gistd.myriad-dreamin.com/Jollywatt/typst-fletcher/blob/main/docs/manual.typ](https://gistd.myriad-dreamin.com/Jollywatt/typst-fletcher/blob/main/docs/manual.typ)
- [https://gistd.myriad-dreamin.com/typst/templates/blob/main/charged-ieee/template/main.typ](https://gistd.myriad-dreamin.com/typst/templates/blob/main/charged-ieee/template/main.typ)

## Loading a single-file document by arbitrary links

Assuming that you have arbitrary link, for example:

```
https://github.com/typst/templates/blob/main/charged-ieee/template/main.typ
```

Put `any-gistd.myriad-dreamin.com` before the link:

```
https://any-gistd.myriad-dreamin.com/github.com/typst/templates/blob/main/charged-ieee/template/main.typ
```

`any-gistd.myriad-dreamin.com` is alias for `gistd.myriad-dreamin.com/@any`.

If a domain (host) is specially identified, gistd will use corresponding approach to serve the document.

- `github.com`: git protocol.
- `codeberg.org`: git protocol.
- `localhost` and others: HTTP protocol if host is `localhost` otherwise https protocol. Note: gistd won't load other files on the specified domain if it cannot identifies the domain, i.e. the typst document cannot load other resources relative to the domain.

Example Documents:

- [https://any-gistd.myriad-dreamin.com/github.com/Myriad-Dreamin/gistd/raw/main/README.typ](https://any-gistd.myriad-dreamin.com/github.com/Myriad-Dreamin/gistd/raw/main/README.typ)
- [https://gistd.myriad-dreamin.com/@any/github.com/Myriad-Dreamin/gistd/raw/main/README.typ](https://gistd.myriad-dreamin.com/@any/github.com/Myriad-Dreamin/gistd/raw/main/README.typ)

## Loading a document without cors proxy

By default, gistd uses a trusted cors proxy (`https://underleaf.mgt.workers.dev`) to load documents. This is because GitHub and Forgejo doesn't allow gistd to load documents. See [isomorphic-git: Quickstart](https://isomorphic-git.org/docs/en/quickstart) for more details.

However, you may want to load a document without cors proxy. You can do this by adding `g-cors=false` to the query string.

For example, to load a document at `http://localhost:11449/main.typ`:

- [https://gistd.myriad-dreamin.com/@http/localhost:11449/main.typ?g-cors=false](https://gistd.myriad-dreamin.com/@http/localhost:11449/main.typ?g-cors=false)

## Loading a document with HTTP protocol

For example, to load a document at `http://localhost:11449/main.typ`:

- [https://gistd.myriad-dreamin.com/@http/localhost:11449/main.typ?g-cors=false](https://gistd.myriad-dreamin.com/@http/localhost:11449/main.typ?g-cors=false)

### Development

Install dependencies:

```
pnpm install
```

Develop locally:

```
pnpm dev
```

Build:

```
pnpm build
```
